<section class="my-5">
  <div class="container mt-4">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-4 mb-4">
        <app-user-sidebar></app-user-sidebar>
      </div>

      <!-- Account Settings -->
      <div class="col-md-8">
        <h4 class="text-success">YOUR ACCOUNT SETTINGS</h4>
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <div class="mb-3">
            <label>Name</label>
            <input formControlName="name" class="form-control" />
          </div>

          <div class="mb-3">
            <label>Email address</label>
            <input formControlName="email" class="form-control" />
          </div>

          <div class="mb-3">
            <label>Phone</label>
            <input formControlName="phone" class="form-control" />
          </div>

          <div class="mb-3">
            <label>Address</label>
            <input formControlName="address" class="form-control" />
          </div>

          <div class="mb-3">
            <label>Choose new photo</label>
            <input type="file" (change)="onFileSelected($event)" class="form-control" />
            <img *ngIf="previewImageUrl" [src]="previewImageUrl" alt="Profile" class="img-thumbnail mt-2" width="100" />
          </div>

          <button class="btn btn-success" [disabled]="profileForm.invalid || isLoading">
            <span *ngIf="!isLoading">Save Settings</span>
            <span *ngIf="isLoading"><i class="fas fa-spinner fa-spin"></i></span>
          </button>
        </form>

        <hr class="my-5">

        <!-- Password Change -->
        <h4 class="text-success">PASSWORD CHANGE</h4>
        <form [formGroup]="passwordForm" (ngSubmit)="onPasswordSubmit()">
          <div class="mb-3">
            <label>Current Password</label>
            <input type="password" formControlName="currentPassword" class="form-control" />
          </div>

          <div class="mb-3">
            <label>New Password</label>
            <input type="password" formControlName="newPassword" class="form-control" />
          </div>
<div class="mb-3">
  <label>Confirm Password</label>
  <input type="password" formControlName="passwordConfirm" class="form-control" />
  <div *ngIf="
      passwordForm.hasError('passwordMisMatch') &&
      passwordForm.get('passwordConfirm')?.touched
    "
    class="text-danger">
    Passwords do not match.
  </div>
</div>


          <button class="btn btn-success" [disabled]="passwordForm.invalid">
            Save Password
          </button>
        </form>
      </div>
    </div>
  </div>
</section>
